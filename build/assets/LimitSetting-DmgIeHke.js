import{r,j as e}from"./index-B2fBV0b0.js";import{s as n}from"./DefaultLayout-TEfi6wH_.js";import{a as D,b as h}from"./api-wfLvVcRq.js";import{u as N}from"./index.esm-Cgl_2XJM.js";import{F as k,o as O,i as w}from"./paginationfunction-CpYI36MX.js";import{s as $}from"./searchFunction-BiSHdcbM.js";import{a as x}from"./cil-lock-locked-b0GLSzjg.js";import{C as b,a as I,b as S,c as y}from"./CModalTitle-mhEHfMeo.js";import{C as j,a as R}from"./CRow-Bpgedh6M.js";import{C as F}from"./CModalFooter-BOHli4FM.js";import{B as V}from"./button-Cs9yHxtL.js";import{R as K}from"./EditOutlined-BB4x0p1v.js";import"./index.esm-Dp7k2-ke.js";import"./AntdIcon-nBSLI4Ns.js";import"./compact-item-ChVofqhj.js";import"./index-CFYdgIcY.js";const ne=()=>{const[u,L]=r.useState([]),[l,A]=r.useState({}),[g,p]=r.useState(!1),[f,T]=r.useState(""),[_,m]=r.useState(!1),[E,c]=r.useState(!1),{register:o,reset:v,formState:{errors:a},handleSubmit:M}=N(),{register:i,reset:C,formState:{errors:X},handleSubmit:Y}=N();r.useEffect(()=>{D.get(`${h}/librarysetting/limitsetting`).then(s=>{const t=s.data.data,d=$(t,f,"PLAN_NAME");L(d),p(!1)}).catch(s=>{alert(s.message)})},[f,g]);const U=s=>{n({title:"Are you sure?",buttons:!0}).then(t=>{t?(s.MAX_BOOK_LIMITS||(s.MAX_BOOK_LIMITS=l.MAX_BOOK_LIMITS),s.DFLT_RESERVE_DAYS||(s.DFLT_RESERVE_DAYS=l.DFLT_RESERVE_DAYS),s.DFLT_RETURN_DUE_DAYS||(s.DFLT_RETURN_DUE_DAYS=l.DFLT_RETURN_DUE_DAYS),s.REMINDER_BEFORE_DUE_DAYS||(s.REMINDER_BEFORE_DUE_DAYS=l.REMINDER_BEFORE_DUE_DAYS),s.PENALTY_PER_DAYS||(s.PENALTY_PER_DAYS=l.PENALTY_PER_DAYS),s.LIMIT_NAME||(s.LIMIT_NAME=l.LIMIT_NAME),s.LIMIT_ID=l.LIMIT_ID,D({method:"put",url:`${h}/librarysetting/limitsetting`,data:s}).then(d=>{d&&(n({title:"Thank You !",text:"Successfully Update",icon:"success",button:"Ok"}),p(!0),C(),c(!1))})):n("Your imaginary file is safe!")})},P=s=>{n({title:"Are you sure?",buttons:!0}).then(t=>{t?D({method:"post",url:`${h}/librarysetting/limitsetting`,data:s}).then(d=>{d&&(n({title:"Thank You !",text:"Successfully Insert",icon:"success",button:"Ok"}),p(!0),v(),m(!1))}):n("Your imaginary file is safe!")})},B=[{title:" ID",className:"dark_bg text-center",dataIndex:"LIMIT_ID",width:"10%"},{title:"Limit Name",className:"dark_bg ",dataIndex:"LIMIT_NAME",width:"10%"},{title:"Max Book Limits",className:"dark_bg text-center",dataIndex:"MAX_BOOK_LIMITS",width:"20%"},{title:"Default Reserve Days",className:"dark_bg text-center",dataIndex:"DFLT_RESERVE_DAYS",width:"20%"},{title:"Default Return Due Days",className:"dark_bg text-center",dataIndex:"DFLT_RETURN_DUE_DAYS",width:"20%"},{title:"Reminder Before Due Days",className:"dark_bg text-center",dataIndex:"REMINDER_BEFORE_DUE_DAYS",width:"20%"},{title:"Penalty Per Days",className:"dark_bg text-center",dataIndex:"PENALTY_PER_DAYS",width:"30%"},{title:"Action",width:"10%",className:"dark_bg text-center",render:(s,t)=>e.jsx("div",{className:"text-center",children:e.jsx(V,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},onClick:()=>{c(!E),A(t)},title:"Access Product",shape:"circle",icon:e.jsx(K,{})})})}];return e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-end",children:[e.jsx("div",{className:"me-2",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("i",{className:"fa fa-search position-absolute",style:{left:"10px",top:"50%",transform:"translateY(-50%)",color:"#999"}}),e.jsx("input",{onChange:s=>{T(s.target.value)},className:"form-control w-100 shadow ps-4 ms-1",type:"text",placeholder:"Search Here",style:{paddingLeft:"35px"}})]})}),e.jsx("div",{className:"text-end",children:e.jsx(x,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},onClick:()=>m(!_),children:"+ Add New Limit Setting"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"row ",children:e.jsx("div",{className:"col-md-12 ",children:e.jsx("div",{className:"table-responsive",children:e.jsx("div",{className:"customDepartmentTable",children:e.jsx(k,{className:"table-striped",pagination:{total:u===void 0?0:u.length,showTotal:(s,t)=>`Showing ${t[0]} to ${t[1]} of ${s} entries`,showSizeChanger:!0,onShowSizeChange:O,itemRender:w},style:{overflowX:"auto"},columns:B,bordered:!0,dataSource:u===void 0?[]:u,rowKey:s=>s.LIMIT_ID,onChange:console.log("change")})})})})})}),e.jsxs(b,{visible:_,size:"lg",onClose:()=>m(!1),"aria-labelledby":"LiveDemoExampleLabel",children:[e.jsx(I,{onClose:()=>m(!1),children:e.jsx(S,{id:"LiveDemoExampleLabel",style:{fontFamily:"Segoe UI"},children:"Add Limit Setting"})}),e.jsx(y,{children:e.jsxs("form",{onSubmit:M(P),children:[e.jsx(j,{children:e.jsxs(R,{xs:12,children:[e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:["Limit Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${a.LIMIT_NAME?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Limit Name",...o("LIMIT_NAME",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:a.LIMIT_NAME&&"Please enter Limit Name."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:["Max Book Limits ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:`form-control ${a.MAX_BOOK_LIMITS?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Max Book Limits",...o("MAX_BOOK_LIMITS",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:a.MAX_BOOK_LIMITS&&"Please enter Max Book Limits."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:["Default Reserve Days ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:`form-control ${a.DFLT_RESERVE_DAYS?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Default Reserve Days ",...o("DFLT_RESERVE_DAYS",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:a.DFLT_RESERVE_DAYS&&"Please enter Default Reserve Days "})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:["Default Return Due Days ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:`form-control ${a.DFLT_RETURN_DUE_DAYS?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Enter Default Return Due Days",...o("DFLT_RETURN_DUE_DAYS",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:a.DFLT_RETURN_DUE_DAYS&&"Please enter Default Return Due Days."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:["Remainder Before Due Days ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:`form-control ${a.REMINDER_BEFORE_DUE_DAYS?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Enter Remainder Before Due Days",...o("REMINDER_BEFORE_DUE_DAYS",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:a.REMINDER_BEFORE_DUE_DAYS&&"Please enter Remainder Before Due Days."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:["Penalty per days ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:`form-control ${a.PENALTY_PER_DAYS?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Enter Penalty per days",...o("PENALTY_PER_DAYS",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:a.PENALTY_PER_DAYS&&"Please enter Penalty per days."})]})]})}),e.jsx("div",{className:"submit-section",children:e.jsxs(F,{className:"justify-content-center",style:{borderTop:"none"},children:[e.jsx(x,{color:"secondary",onClick:()=>m(!1),children:"Close"}),e.jsx(x,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},type:"submit",children:"Add"})]})})]})})]}),l&&e.jsxs(b,{visible:E,size:"lg",onClose:()=>c(!1),"aria-labelledby":"LiveDemoExampleLabel",children:[e.jsx(I,{onClose:()=>c(!1),children:e.jsx(S,{id:"LiveDemoExampleLabel",style:{fontFamily:"Segoe UI"},children:"Update Limit Setting Information"})}),e.jsx(y,{children:e.jsxs("form",{onSubmit:Y(U),children:[e.jsx(j,{children:e.jsxs(R,{xs:12,children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",style:{fontFamily:"Segoe UI"},children:"Limit Name"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:l.LIMIT_NAME,...i("LIMIT_NAME")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",style:{fontFamily:"Segoe UI"},children:"Max Book Limit"}),e.jsx("input",{type:"number",className:"form-control",id:"exampleFormControlInput14",placeholder:l.MAX_BOOK_LIMITS,...i("MAX_BOOK_LIMITS")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",style:{fontFamily:"Segoe UI"},children:"Default Reserve Days"}),e.jsx("input",{type:"number",className:"form-control",id:"exampleFormControlInput14",placeholder:l.DFLT_RESERVE_DAYS,...i("DFLT_RESERVE_DAYS")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",style:{fontFamily:"Segoe UI"},children:"Default Return Due Days"}),e.jsx("input",{type:"number",className:"form-control",id:"exampleFormControlInput14",placeholder:l.DFLT_RETURN_DUE_DAYS,...i("DFLT_RETURN_DUE_DAYS")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",style:{fontFamily:"Segoe UI"},children:"Reminder Before Due Days"}),e.jsx("input",{type:"number",className:"form-control",id:"exampleFormControlInput14",placeholder:l.REMINDER_BEFORE_DUE_DAYS,...i("REMINDER_BEFORE_DUE_DAYS")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",style:{fontFamily:"Segoe UI"},children:"Penalty Per Days"}),e.jsx("input",{type:"number",className:"form-control",id:"exampleFormControlInput14",placeholder:l.PENALTY_PER_DAYS,...i("PENALTY_PER_DAYS")})]})]})}),e.jsx("div",{className:"submit-section",children:e.jsxs(F,{className:"justify-content-center",style:{borderTop:"none"},children:[e.jsx(x,{color:"secondary",onClick:()=>c(!1),children:"Close"}),e.jsx(x,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},type:"submit",children:"Update"})]})})]})})]})]})};export{ne as default};
