import{k as G,r as t,j as e}from"./index-DO-SV_97.js";import{a as n,b as m}from"./api-wfLvVcRq.js";import{u as $}from"./index.esm-cMcdnTEW.js";import{C as x,a as i}from"./CRow-C5pS5nlF.js";import{S as d}from"./index-b-rH6Afy.js";import{C as p}from"./CFormSelect-h8fZy_Ts.js";import{a as k}from"./cil-lock-locked-CYdsg60D.js";import"./AntdIcon-p-8olrNo.js";import"./compact-item-CogaolUq.js";import"./CFormControlWrapper-DWJPogNQ.js";const W=()=>{const{register:a,reset:h,formState:{errors:s},handleSubmit:N}=$(),u=G(),[j,b]=t.useState(),[f,I]=t.useState(),[F,C]=t.useState([]),[v,E]=t.useState(),[g,D]=t.useState([]),[S,y]=t.useState(),[M,P]=t.useState([]),[A,_]=t.useState(),c=(l,r)=>((r==null?void 0:r.label)??"").toLowerCase().includes(l.toLowerCase()),O=l=>{E(l)},T=l=>{y(l)},R=l=>{_(l)},w=l=>{const r=l.target.files[0];b(r),I(URL.createObjectURL(r))};t.useEffect(()=>{n.get(`${m}/setting/designation`).then(l=>{C(l.data.data)}).catch(l=>{alert(l.message)})},[]),t.useEffect(()=>{n.get(`${m}/admistration/companyinfo`).then(l=>{P(l.data.data)}).catch(l=>{alert(l.message)})},[]),t.useEffect(()=>{n.get(`${m}/setting/department`).then(l=>{D(l.data.data)}).catch(l=>{alert(l.message)})},[]);const L=l=>{l.DESIG_ID=parseInt(v),l.DEPT_ID=parseInt(S),l.COM_ID=parseInt(A);const r=new FormData;r.append("image",j);for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&r.append(o,l[o]);n.post(`${m}/setting/employee`,r).then(o=>{u(-1)}).catch(o=>{alert(o.message)}),h()};return e.jsx("div",{children:e.jsxs("form",{onSubmit:N(L),className:"bg-white p-5 my-3",children:[e.jsxs(x,{children:[e.jsxs(i,{xs:4,className:"",children:[e.jsx("div",{style:{borderRadius:"11px",fontFamily:"Segoe UI"},children:e.jsx("img",{src:f||"/placeholder.jpg",width:"150px",height:"150px",alt:"Uploaded Preview",style:{borderRadius:"50%"}})}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:["Image ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"file",name:"image",className:`form-control ${s.filePath?"is-invalid":""}`,...a("filePath",{required:"Image File is required"}),id:"exampleFormControlInput14",onChange:l=>w(l)}),s.filePath&&e.jsx("div",{className:"invalid-feedback",children:s.filePath.message})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",children:["Employee Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${s.EMP_NAME?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Employee Name",...a("EMP_NAME",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:s.EMP_NAME&&"Please enter an employee name."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",children:["Mobile ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${s.MOBILE?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Mobile",...a("MOBILE",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:s.MOBILE&&"Please enter a mobile number."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",children:["Email ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${s.EMAIL?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Email",...a("EMAIL",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:s.EMAIL&&"Please enter a valid email address."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",children:["Designation ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(d,{showSearch:!0,placeholder:"Select a Designation",optionFilterProp:"children",...a("DESIG_NAME",{required:!0}),className:`w-100 ${s.DESIG_NAME?"is-invalid":""}`,onChange:O,filterOption:c,options:F.map(l=>({value:l.DESIG_ID,label:l.DESIG_NAME}))}),e.jsx("div",{className:"invalid-feedback",children:s.DESIG_NAME&&"Please select a designation."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",children:["Department ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(d,{showSearch:!0,placeholder:"Select a Department",optionFilterProp:"children",...a("DEPT_NAME",{required:!0}),className:`w-100 ${s.DEPT_NAME?"is-invalid":""}`,onChange:T,filterOption:c,options:g.map(l=>({value:l.DEPT_ID,label:l.DEPT_NAME}))}),e.jsx("div",{className:"invalid-feedback",children:s.DEPT_NAME&&"Please select a department."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Status"}),e.jsxs(p,{className:"mb-3",...a("EMP_STATUS"),"aria-label":"Large select example",children:[e.jsx("option",{children:"Open this select menu"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Deactive",children:"Deactive"})]})]})]}),e.jsx(i,{xs:8,children:e.jsxs(x,{children:[e.jsxs(i,{xs:6,children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Card NO"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Card No",...a("CARD_NO")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Father Name"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Father Name",...a("FATHER_NAME")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Present Address"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Present Address",...a("PRESENT_ADDRESS")})]})," ",e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Gender"}),e.jsxs(p,{...a("SEX"),"aria-label":"Large select example",children:[e.jsx("option",{children:"Open this select menu"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]})]})," ",e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Marital Status"}),e.jsxs(p,{...a("MARITAL_STATUE"),"aria-label":"Large select example",children:[e.jsx("option",{children:"Open this select menu"}),e.jsx("option",{value:"Married ",children:"Married "}),e.jsx("option",{value:"Unmarried",children:"Unmarried "})]})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Passport No"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Passport No",...a("PASSPORT_NO")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",children:["Joining Date ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"date",className:`form-control ${s.JOINING_DATE?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Joining Date",...a("JOINING_DATE",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:s.JOINING_DATE&&"Please select a joining date."})]})]}),e.jsxs(i,{xs:6,children:[" ",e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:["Company Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(d,{showSearch:!0,placeholder:"Select a Company",optionFilterProp:"children",className:"w-100",style:{height:"38px"},onChange:R,filterOption:c,options:M.map(l=>({value:l.COM_ID,label:l.COMP_NAME}))})]})," ",e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Mother Name"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Mother Name",...a("MOTHER_NAME")})]})," ",e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Permanent Address"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Permanent Address",...a("PERMANENT_ADDRESS")})]})," ",e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Blood Group"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Blood Group",...a("BLOOD_GROUP")})]})," ",e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Religion"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Religion",...a("RELIGION")})]})," ",e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Date Of Birth"}),e.jsx("input",{type:"date",className:"form-control",id:"exampleFormControlInput14",placeholder:"Date Of Birth",...a("DATE_OF_BIRTH")})]})," ",e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Confirmation Date"}),e.jsx("input",{type:"date",className:"form-control",id:"exampleFormControlInput14",placeholder:"Confirmation Date",...a("CONFIRMATION_DATE")})]})]})]})})]}),e.jsx("div",{className:"submit-section d-flex justify-content-center",children:e.jsx("div",{className:" w-25",style:{borderTop:"none"},children:e.jsx(k,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},className:"ms-2 my-1 py-2 w-100",type:"submit",children:"Save"})})})]})})};export{W as default};
