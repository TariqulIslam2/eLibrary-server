import{r as l,j as e}from"./index-B2fBV0b0.js";import{s as o}from"./DefaultLayout-TEfi6wH_.js";import{a as u,b as f}from"./api-wfLvVcRq.js";import{u as j}from"./index.esm-Cgl_2XJM.js";import{F as w,o as Y,i as L}from"./paginationfunction-CpYI36MX.js";import{s as $}from"./searchFunction-BiSHdcbM.js";import{a as c}from"./cil-lock-locked-b0GLSzjg.js";import{C as y,a as g,b as E,c as I}from"./CModalTitle-mhEHfMeo.js";import{C as A,a as S}from"./CRow-Bpgedh6M.js";import{C as v}from"./CModalFooter-BOHli4FM.js";import{B}from"./button-Cs9yHxtL.js";import{R as z}from"./EditOutlined-BB4x0p1v.js";import"./index.esm-Dp7k2-ke.js";import"./AntdIcon-nBSLI4Ns.js";import"./compact-item-ChVofqhj.js";import"./index-CFYdgIcY.js";const ne=()=>{const[m,R]=l.useState([]),[a,O]=l.useState({}),[F,x]=l.useState(!1),[N,D]=l.useState(""),[b,r]=l.useState(!1),[C,i]=l.useState(!1),{register:p,reset:T,formState:{errors:d},handleSubmit:_}=j(),{register:h,reset:G,formState:{errors:q},handleSubmit:M}=j();l.useEffect(()=>{u.get(`${f}/librarysetting/category`).then(s=>{const t=s.data.data,n=$(t,N,"CATEGORY_NAME","GROUP_NAME");R(n),x(!1)}).catch(s=>{alert(s.message)})},[N,F]);const U=s=>{o({title:"Are you sure?",buttons:!0}).then(t=>{t?(s.CATEGORY_NAME||(s.CATEGORY_NAME=a.CATEGORY_NAME),s.GROUP_NAME||(s.GROUP_NAME=a.GROUP_NAME),s.DESCRIPTION||(s.DESCRIPTION=a.DESCRIPTION),s.CATEGORY_ID=a.CATEGORY_ID,u({method:"put",url:`${f}/librarysetting/category`,data:s}).then(n=>{n&&(o({title:"Thank You !",text:"Successfully Update",icon:"success",button:"Ok"}),x(!0),G(),i(!1))})):o("Your imaginary file is safe!")})},P=s=>{o({title:"Are you sure?",buttons:!0}).then(t=>{t?u({method:"post",url:`${f}/librarysetting/category`,data:s}).then(n=>{n&&(o({title:"Thank You !",text:"Successfully Insert",icon:"success",button:"Ok"}),x(!0),T(),r(!1))}):o("Your imaginary file is safe!")})},k=[{title:" ID",className:"dark_bg text-center",dataIndex:"CATEGORY_ID",width:"10%"},{title:"Category Name",className:"dark_bg ",dataIndex:"CATEGORY_NAME",width:"30%"},{title:"Group Name",className:"dark_bg ",dataIndex:"GROUP_NAME",width:"20%"},{title:"Description",className:"dark_bg ",dataIndex:"DESCRIPTION",width:"30%"},{title:"Action",width:"10%",className:"dark_bg text-center",render:(s,t)=>e.jsx("div",{className:"text-center",children:e.jsx(B,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},onClick:()=>{i(!C),O(t)},title:"Access Product",shape:"circle",icon:e.jsx(z,{})})})}];return e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-end",children:[e.jsx("div",{className:"me-2",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("i",{className:"fa fa-search position-absolute",style:{left:"10px",top:"50%",transform:"translateY(-50%)",color:"#999"}}),e.jsx("input",{onChange:s=>{D(s.target.value)},className:"form-control w-100 shadow ps-4 ms-1",type:"text",placeholder:"Search Here",style:{paddingLeft:"35px"}})]})}),e.jsx("div",{className:"text-end",children:e.jsx(c,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},onClick:()=>r(!b),children:"+ Add New Category"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"row ",children:e.jsx("div",{className:"col-md-12 ",children:e.jsx("div",{className:"table-responsive",children:e.jsx("div",{className:"customDepartmentTable",children:e.jsx(w,{className:"table-striped",pagination:{total:m===void 0?0:m.length,showTotal:(s,t)=>`Showing ${t[0]} to ${t[1]} of ${s} entries`,showSizeChanger:!0,onShowSizeChange:Y,itemRender:L},style:{overflowX:"auto"},columns:k,bordered:!0,dataSource:m===void 0?[]:m,rowKey:s=>s.DEPT_ID,onChange:console.log("change")})})})})})}),e.jsxs(y,{visible:b,size:"lg",onClose:()=>r(!1),"aria-labelledby":"LiveDemoExampleLabel",children:[e.jsx(g,{onClose:()=>r(!1),children:e.jsx(E,{id:"LiveDemoExampleLabel",style:{fontFamily:"Segoe UI"},children:"Add Category Information"})}),e.jsx(I,{children:e.jsxs("form",{onSubmit:_(P),children:[e.jsx(A,{children:e.jsxs(S,{xs:12,children:[e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:["Category Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${d.CATEGORY_NAME?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Category Name",...p("CATEGORY_NAME",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:d.CATEGORY_NAME&&"Please enter a Category name."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:["Group Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${d.GROUP_NAME?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Group Name",...p("GROUP_NAME",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:d.GROUP_NAME&&"Please enter a Group name."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:"Description"}),e.jsx("input",{type:"text",className:"form-control ",id:"exampleFormControlInput14",placeholder:"Description Name",...p("DESCRIPTION")})]})]})}),e.jsx("div",{className:"submit-section",children:e.jsxs(v,{className:"justify-content-center",style:{borderTop:"none"},children:[e.jsx(c,{color:"secondary",onClick:()=>r(!1),children:"Close"}),e.jsx(c,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},type:"submit",children:"Add"})]})})]})})]}),a&&e.jsxs(y,{visible:C,size:"lg",onClose:()=>i(!1),"aria-labelledby":"LiveDemoExampleLabel",children:[e.jsx(g,{onClose:()=>i(!1),children:e.jsx(E,{id:"LiveDemoExampleLabel",style:{fontFamily:"Segoe UI"},children:"Update Category Information"})}),e.jsx(I,{children:e.jsxs("form",{onSubmit:M(U),children:[e.jsx(A,{children:e.jsxs(S,{xs:12,children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",style:{fontFamily:"Segoe UI"},children:"Category Name"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:a.CATEGORY_NAME,...h("CATEGORY_NAME")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",style:{fontFamily:"Segoe UI"},children:"Group Name"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:a.GROUP_NAME,...h("GROUP_NAME")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",style:{fontFamily:"Segoe UI"},children:"Description"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:a.DESCRIPTION,...h("DESCRIPTION")})]})]})}),e.jsx("div",{className:"submit-section",children:e.jsxs(v,{className:"justify-content-center",style:{borderTop:"none"},children:[e.jsx(c,{color:"secondary",onClick:()=>i(!1),children:"Close"}),e.jsx(c,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},type:"submit",children:"Update"})]})})]})})]})]})};export{ne as default};
