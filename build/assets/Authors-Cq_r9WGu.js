import{r as t,j as e}from"./index-BnTmYUkP.js";import{s as c}from"./DefaultLayout-BXqfuJ5f.js";import{a as N,b as u}from"./api-wfLvVcRq.js";import{u as A}from"./index.esm-CJb1F2Ko.js";import{F as V,o as z,i as G}from"./paginationfunction-D0VE8UAN.js";import{s as K}from"./searchFunction-BiSHdcbM.js";import{a as h}from"./cil-lock-locked-Df1Z1tUn.js";import{C as S,a as E,b as U,c as R}from"./CModalTitle-DvCGmg8K.js";import{C as w,a as f}from"./CRow-DtjUj6WL.js";import{C as O}from"./CModalFooter-D8yuYI43.js";import{B as X}from"./button-CXLSpfiv.js";import{R as J}from"./EditOutlined-BtGnOwYh.js";import"./index.esm-DG5RHfQW.js";import"./AntdIcon-ZEkvb8A9.js";import"./compact-item-BqMqF4CM.js";import"./index-ClsgFobk.js";const ue=()=>{const[x,P]=t.useState([]),[m,T]=t.useState({}),[_,b]=t.useState(!1),[j,D]=t.useState(""),[y,d]=t.useState(!1),[g,p]=t.useState(!1),[I,k]=t.useState(),[F,B]=t.useState(),{register:o,reset:H,formState:{errors:r},handleSubmit:M}=A(),{register:n,reset:L,setValue:C,formState:{errors:Q},handleSubmit:Y}=A(),v=l=>{const a=l.target.files[0];console.log(a),k(a),B(URL.createObjectURL(a))};t.useEffect(()=>{N.get(`${u}/librarysetting/author`).then(l=>{console.log(l);const a=l.data.data,i=K(a,j,"AUTHOR_NAME","EMAIL","PHONE_NUMBER","COUNTRY");P(i),b(!1)}).catch(l=>{alert(l.message)})},[j,_]);const $=l=>{c({title:"Are you sure?",buttons:!0}).then(a=>{if(a){console.log(l),l.AUTHOR_ID=m.AUTHOR_ID,console.log(l);const i=new FormData;i.append("image",I);for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&i.append(s,l[s]);N({method:"put",url:`${u}/librarysetting/author`,data:i}).then(s=>{s&&(c({title:"Thank You !",text:"Successfully Update",icon:"success",button:"Ok"}),b(!0),L(),p(!1))})}else c("Your imaginary file is safe!")})},W=l=>{c({title:"Are you sure?",buttons:!0}).then(a=>{if(a){console.log(l);const i=new FormData;i.append("image",I);for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&i.append(s,l[s]);N({method:"post",url:`${u}/librarysetting/author`,data:i,headers:{"Content-Type":"multipart/form-data"}}).then(s=>{s&&(c({title:"Thank You!",text:"Successfully Inserted",icon:"success",button:"Ok"}),b(!0),H(),d(!1))}).catch(s=>console.error("Error posting data:",s))}else c("Your imaginary file is safe!")})},q=[{title:" ID",className:"dark_bg text-center",dataIndex:"AUTHOR_ID",width:"5%"},{title:"Author",className:"dark_bg ",render:(l,a)=>e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-sm-4",children:[" ",e.jsx("img",{src:a!=null&&a.PROFILE_PICTURE?`${u}/static/public/image/${a==null?void 0:a.PROFILE_PICTURE}`:"/placeholder.jpg",style:{width:"80%",height:"auto"},alt:""})]}),e.jsx("div",{className:"col-sm-8",children:a.AUTHOR_NAME})]}),width:"20%"},{title:"Email",className:"dark_bg ",dataIndex:"EMAIL",width:"10%"},{title:"Mobile",className:"dark_bg ",dataIndex:"PHONE_NUMBER",width:"10%"},{title:"Country",className:"dark_bg ",dataIndex:"COUNTRY",width:"10%"},{title:"Website",className:"dark_bg ",dataIndex:"WEBSITE",width:"10%"},{title:"Birth Date",className:"dark_bg ",dataIndex:"DATE_OF_BIRTH",width:"10%"},{title:"Biography",className:"dark_bg ",dataIndex:"BIOGRAPHY",width:"10%"},{title:"Award",className:"dark_bg ",dataIndex:"AWARDS",width:"10%"},{title:"Action",width:"5%",className:"dark_bg text-center",render:(l,a)=>e.jsx("div",{className:"text-center",children:e.jsx(X,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},onClick:()=>{p(!g),T(a)},title:"Access Product",shape:"circle",icon:e.jsx(J,{})})})}];return t.useEffect(()=>{m&&Object.keys(m).forEach(l=>{C(l,m[l])})},[m,C]),e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-end",children:[e.jsx("div",{className:"me-2",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("i",{className:"fa fa-search position-absolute",style:{left:"10px",top:"50%",transform:"translateY(-50%)",color:"#999"}}),e.jsx("input",{onChange:l=>{D(l.target.value)},className:"form-control w-100 shadow ps-4 ms-1",type:"text",placeholder:"Search Here",style:{paddingLeft:"35px"}})]})}),e.jsx("div",{className:"text-end",children:e.jsx(h,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},onClick:()=>d(!y),children:"+ Add New Author"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"row ",children:e.jsx("div",{className:"col-md-12 ",children:e.jsx("div",{className:"table-responsive",children:e.jsx("div",{className:"customDepartmentTable",children:e.jsx(V,{className:"table-striped",pagination:{total:x===void 0?0:x.length,showTotal:(l,a)=>`Showing ${a[0]} to ${a[1]} of ${l} entries`,showSizeChanger:!0,onShowSizeChange:z,itemRender:G},style:{overflowX:"auto"},columns:q,bordered:!0,dataSource:x===void 0?[]:x,rowKey:l=>l.AUTHOR_ID,onChange:console.log("change")})})})})})}),e.jsxs(S,{visible:y,size:"lg",onClose:()=>d(!1),"aria-labelledby":"LiveDemoExampleLabel",children:[e.jsx(E,{onClose:()=>d(!1),children:e.jsx(U,{id:"LiveDemoExampleLabel",style:{fontFamily:"Segoe UI"},children:"Add Author Information"})}),e.jsx(R,{children:e.jsxs("form",{onSubmit:M(W),children:[e.jsxs(w,{children:[e.jsxs(f,{xs:6,children:[e.jsx("div",{style:{borderRadius:"11px",fontFamily:"Segoe UI"},children:e.jsx("img",{src:F||"/placeholder.jpg",width:"150px",height:"150px",alt:"Uploaded Preview",style:{borderRadius:"50%"}})}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:["Image ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"file",name:"image",className:`form-control ${r.filePath?"is-invalid":""}`,...o("filePath",{required:"Image File is required"}),id:"exampleFormControlInput14",onChange:l=>v(l)}),r.filePath&&e.jsx("div",{className:"invalid-feedback",children:r.filePath.message})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:["Author Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${r.AUTHOR_NAME?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Author Name",...o("AUTHOR_NAME",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:r.AUTHOR_NAME&&"Please enter a Author name."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:["Email ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"email",className:`form-control ${r.EMAIL?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Contact Email",...o("EMAIL",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:r.EMAIL&&"Please enter a Contact Email."})]})," ",e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:["Phone Number ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${r.PHONE_NUMBER?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Phone Number",...o("PHONE_NUMBER",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:r.PHONE_NUMBER&&"Please enter a Phone Number."})]})]}),e.jsxs(f,{xs:6,children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:"Date Of Birth"}),e.jsx("input",{type:"date",className:"form-control",id:"exampleFormControlInput14",...o("DATE_OF_BIRTH")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:"Website"}),e.jsx("input",{type:"text",className:"form-control ",id:"exampleFormControlInput14",placeholder:"Website Address",...o("WEBSITE")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:"Country Name"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Country Name",...o("COUNTRY")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:"Award"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Award",...o("AWARDS")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:"Biography"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Biography",...o("BIOGRAPHY")})]})]})]}),e.jsx("div",{className:"submit-section",children:e.jsxs(O,{className:"justify-content-center",style:{borderTop:"none"},children:[e.jsx(h,{color:"secondary",onClick:()=>d(!1),children:"Close"}),e.jsx(h,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},type:"submit",children:"Add"})]})})]})})]}),m&&e.jsxs(S,{visible:g,size:"lg",onClose:()=>p(!1),"aria-labelledby":"LiveDemoExampleLabel",children:[e.jsx(E,{onClose:()=>p(!1),children:e.jsx(U,{id:"LiveDemoExampleLabel",style:{fontFamily:"Segoe UI"},children:"Update Publisher Information"})}),e.jsx(R,{children:e.jsxs("form",{onSubmit:Y($),children:[e.jsxs(w,{children:[e.jsxs(f,{xs:6,children:[e.jsx("div",{style:{borderRadius:"11px",fontFamily:"Segoe UI"},children:e.jsx("img",{src:F||"/placeholder.jpg",width:"150px",height:"150px",alt:"Uploaded Preview",style:{borderRadius:"50%"}})}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",children:"Image"}),e.jsx("input",{type:"file",name:"image",className:"form-control",id:"exampleFormControlInput14",onChange:l=>v(l)})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:"Author Name"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Author Name",...n("AUTHOR_NAME")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:"Email"}),e.jsx("input",{type:"email",className:"form-control",id:"exampleFormControlInput14",placeholder:"Contact Email",...n("EMAIL")})]})," ",e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:"Phone Number"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Phone Number",...n("PHONE_NUMBER")})]})]}),e.jsxs(f,{xs:6,children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:"Date Of Birth"}),e.jsx("input",{type:"date",className:"form-control",id:"exampleFormControlInput14",...n("DATE_OF_BIRTH")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:"Website"}),e.jsx("input",{type:"text",className:"form-control ",id:"exampleFormControlInput14",placeholder:"Website Address",...n("WEBSITE")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:"Country Name"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Country Name",...n("COUNTRY")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:"Award"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Award",...n("AWARDS")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:"Biography"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Biography",...n("BIOGRAPHY")})]})]})]}),e.jsx("div",{className:"submit-section",children:e.jsxs(O,{className:"justify-content-center",style:{borderTop:"none"},children:[e.jsx(h,{color:"secondary",onClick:()=>p(!1),children:"Close"}),e.jsx(h,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},type:"submit",children:"Update"})]})})]})})]})]})};export{ue as default};
