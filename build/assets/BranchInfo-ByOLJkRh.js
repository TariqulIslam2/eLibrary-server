import{r as a,j as e}from"./index-B2fBV0b0.js";import{a as h,b as f}from"./api-wfLvVcRq.js";import{u as N}from"./index.esm-Cgl_2XJM.js";import{F as $,o as Y,i as z}from"./paginationfunction-CpYI36MX.js";import{s as l}from"./DefaultLayout-TEfi6wH_.js";import{s as V}from"./searchFunction-BiSHdcbM.js";import{a as c}from"./cil-lock-locked-b0GLSzjg.js";import{C,a as g,b as y,c as v}from"./CModalTitle-mhEHfMeo.js";import{C as A,a as S}from"./CRow-Bpgedh6M.js";import{C as B}from"./CModalFooter-BOHli4FM.js";import{B as O}from"./button-Cs9yHxtL.js";import{R as P}from"./EditOutlined-BB4x0p1v.js";import"./AntdIcon-nBSLI4Ns.js";import"./compact-item-ChVofqhj.js";import"./index-CFYdgIcY.js";import"./index.esm-Dp7k2-ke.js";const ce=()=>{const[d,I]=a.useState([]),[u,r]=a.useState(!1),[o,D]=a.useState({}),[R,m]=a.useState(!1),[x,i]=a.useState(!1),[p,k]=a.useState(""),{register:E,reset:w,formState:{errors:b},handleSubmit:_}=N(),H=s=>{l({title:"Are you sure?",buttons:!0}).then(t=>{t?h({method:"post",url:`${f}/setting/branch`,data:s}).then(n=>{n&&(l({title:"Thank You !",text:"Successfully Insert",icon:"success",button:"Ok"}),m(!0),w(),r(!1))}):l("Your imaginary file is safe!")})},{register:F,reset:M,setValue:j,formState:{errors:q},handleSubmit:L}=N(),U=s=>{l({title:"Are you sure?",buttons:!0}).then(t=>{t?(s.BRANCH_ID=o.BRANCH_ID,h({method:"put",url:`${f}/setting/branch`,data:s}).then(n=>{n&&(l({title:"Thank You !",text:"Successfully Update",icon:"success",button:"Ok"}),m(!0),M(),i(!1))})):l("Your imaginary file is safe!")})};a.useEffect(()=>{h.get(`${f}/setting/branch`).then(s=>{const t=s.data.data,n=V(t,p,"BRANCH_ID","BRANCH_NAME");I(n),m(!1)}).catch(s=>{alert(s.message)})},[p,R]),a.useEffect(()=>{o&&Object.keys(o).forEach(s=>{j(s,o[s])})},[o,j]);const T=[{title:" ID",className:"dark_bg text-center",dataIndex:"BRANCH_ID",width:"10%"},{title:"Branch Name",className:"dark_bg ",dataIndex:"BRANCH_NAME",width:"70%"},{title:"Action",className:"dark_bg text-center",width:"20%",render:(s,t)=>e.jsx("div",{className:"text-center",children:e.jsx(O,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},onClick:()=>{i(!x),D(t)},title:"Access Product",shape:"circle",icon:e.jsx(P,{})})})}];return e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-end",children:[e.jsx("div",{className:"me-2",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("i",{className:"fa fa-search position-absolute",style:{left:"10px",top:"50%",transform:"translateY(-50%)",color:"#999"}}),e.jsx("input",{onChange:s=>{k(s.target.value)},className:"form-control w-100 shadow ps-4 ms-1",type:"text",placeholder:"Search Here",style:{paddingLeft:"35px"}})]})}),e.jsx("div",{className:"text-end",children:e.jsx(c,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},onClick:()=>r(!u),children:"+ Add Branch"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"row ",children:e.jsx("div",{className:"col-md-12 ",children:e.jsx("div",{className:"table-responsive",children:e.jsx($,{className:"table-striped",pagination:{total:d===void 0?0:d.length,showTotal:(s,t)=>`Showing ${t[0]} to ${t[1]} of ${s} entries`,showSizeChanger:!0,onShowSizeChange:Y,itemRender:z},style:{overflowX:"auto"},columns:T,bordered:!0,dataSource:d===void 0?[]:d,rowKey:s=>s.BRANCH_ID,onChange:console.log("change")})})})})}),e.jsxs(C,{visible:u,size:"lg",onClose:()=>r(!1),"aria-labelledby":"LiveDemoExampleLabel",children:[e.jsx(g,{onClose:()=>r(!1),children:e.jsx(y,{id:"LiveDemoExampleLabel",children:"Add Branch Information"})}),e.jsx(v,{children:e.jsxs("form",{onSubmit:_(H),children:[e.jsx(A,{children:e.jsx(S,{xs:12,children:e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",children:["Branch Name ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${b.BRANCH_NAME?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Branch Name",...E("BRANCH_NAME",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:b.BRANCH_NAME&&"Please enter a branch name."})]})})}),e.jsx("div",{className:"submit-section",children:e.jsxs(B,{className:"justify-content-center",style:{borderTop:"none"},children:[e.jsx(c,{color:"secondary",onClick:()=>r(!1),children:"Close"}),e.jsx(c,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},type:"submit",children:"Add"})]})})]})})]}),o&&e.jsxs(C,{visible:x,size:"lg",onClose:()=>i(!1),"aria-labelledby":"LiveDemoExampleLabel",children:[e.jsx(g,{onClose:()=>i(!1),children:e.jsx(y,{id:"LiveDemoExampleLabel",style:{fontFamily:"Segoe UI"},children:"Update Department Information"})}),e.jsx(v,{children:e.jsxs("form",{onSubmit:L(U),children:[e.jsx(A,{children:e.jsx(S,{xs:12,children:e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",style:{fontFamily:"Segoe UI"},children:"Branch Name"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",defaultValue:o.BRANCH_NAME,...F("BRANCH_NAME")})]})})}),e.jsx("div",{className:"submit-section",children:e.jsxs(B,{className:"justify-content-center",style:{borderTop:"none"},children:[e.jsx(c,{color:"secondary",onClick:()=>i(!1),children:"Close"}),e.jsx(c,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},type:"submit",children:"Update"})]})})]})})]})]})};export{ce as default};
