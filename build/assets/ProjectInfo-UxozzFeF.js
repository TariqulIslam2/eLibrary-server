import{r as a,j as e}from"./index-DO-SV_97.js";import{a as m,b as f}from"./api-wfLvVcRq.js";import{u as b}from"./index.esm-cMcdnTEW.js";import{F as L,o as U,i as $}from"./paginationfunction-cQwcg583.js";import{s as Y}from"./searchFunction-BiSHdcbM.js";import{a as n}from"./cil-lock-locked-CYdsg60D.js";import{C,a as g,b as N,c as y}from"./CModalTitle-DQifuASo.js";import{C as E,a as v}from"./CRow-C5pS5nlF.js";import{C as S}from"./CModalFooter-KGCUttOr.js";import{B as z}from"./button-B-GL0v4J.js";import{R as B}from"./EditOutlined-Dj1e-Inx.js";import"./AntdIcon-p-8olrNo.js";import"./compact-item-CogaolUq.js";import"./index-b-rH6Afy.js";import"./DefaultLayout-BdiyXKQm.js";import"./index.esm-CDc6Ey47.js";const ne=()=>{const[c,P]=a.useState([]),[u,l]=a.useState(!1),[o,w]=a.useState({}),[O,d]=a.useState(!1),[h,r]=a.useState(!1),[x,T]=a.useState(""),{register:D,reset:R,formState:{errors:p},handleSubmit:k}=b(),A=s=>{swal({title:"Are you sure?",buttons:!0}).then(t=>{t?m({method:"post",url:`${f}/setting/project`,data:s}).then(i=>{i&&(swal({title:"Thank You !",text:"Successfully Insert",icon:"success",button:"Ok"}),d(!0),R(),l(!1))}):swal("Your imaginary file is safe!")})},{register:_,reset:F,setValue:j,formState:{errors:V},handleSubmit:I}=b(),J=s=>{swal({title:"Are you sure?",buttons:!0}).then(t=>{t?(s.PROJECT_CODE=o.PROJECT_CODE,m({method:"put",url:`${f}/setting/project`,data:s}).then(i=>{i&&(swal({title:"Thank You !",text:"Successfully Update",icon:"success",button:"Ok"}),d(!0),F(),r(!1))})):swal("Your imaginary file is safe!")})};a.useEffect(()=>{o&&Object.keys(o).forEach(s=>{j(s,o[s])})},[o,j]),a.useEffect(()=>{m.get(`${f}/setting/project`).then(s=>{const t=s.data.data,i=Y(t,x,"PROJECT_NAME","PROJECT_CODE");P(i),d(!1)}).catch(s=>{alert(s.message)})},[x,O]);const M=[{title:"Code",className:"dark_bg text-center",dataIndex:"PROJECT_CODE",width:"10%"},{title:"Project Name",className:"dark_bg  ",dataIndex:"PROJECT_NAME",width:"70%"},{title:"Action",width:"20%",className:"dark_bg text-center",render:(s,t)=>e.jsx("div",{className:"text-center",children:e.jsx(z,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},onClick:()=>{r(!h),w(t)},title:"Access Product",shape:"circle",icon:e.jsx(B,{})})})}];return e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-end",children:[e.jsx("div",{className:"me-2",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("i",{className:"fa fa-search position-absolute",style:{left:"10px",top:"50%",transform:"translateY(-50%)",color:"#999"}}),e.jsx("input",{onChange:s=>{T(s.target.value)},className:"form-control w-100 shadow ps-4 ms-1",type:"text",placeholder:"Search Here",style:{paddingLeft:"35px"}})]})}),e.jsx("div",{className:"text-end",children:e.jsx(n,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},onClick:()=>l(!u),children:"+ Add Project"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"row ",children:e.jsx("div",{className:"col-md-12 ",children:e.jsx("div",{className:"table-responsive",children:e.jsx(L,{className:"table-striped",pagination:{total:c===void 0?0:c.length,showTotal:(s,t)=>`Showing ${t[0]} to ${t[1]} of ${s} entries`,showSizeChanger:!0,onShowSizeChange:U,itemRender:$},style:{overflowX:"auto"},columns:M,bordered:!0,dataSource:c===void 0?[]:c,rowKey:s=>s.PROJECT_CODE,onChange:console.log("change")})})})})}),e.jsxs(C,{visible:u,size:"lg",onClose:()=>l(!1),"aria-labelledby":"LiveDemoExampleLabel",children:[e.jsx(g,{onClose:()=>l(!1),children:e.jsx(N,{id:"LiveDemoExampleLabel",children:"Add Project Information"})}),e.jsx(y,{children:e.jsxs("form",{onSubmit:k(A),children:[e.jsx(E,{children:e.jsx(v,{xs:12,children:e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",children:["Project Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${p.PROJECT_NAME?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Project Name",...D("PROJECT_NAME",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:p.PROJECT_NAME&&"Please enter a project name."})]})})}),e.jsx("div",{className:"submit-section",children:e.jsxs(S,{className:"justify-content-center",style:{borderTop:"none"},children:[e.jsx(n,{color:"secondary",onClick:()=>l(!1),children:"Close"}),e.jsx(n,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},type:"submit",children:"Add"})]})})]})})]}),o&&e.jsxs(C,{visible:h,size:"lg",onClose:()=>r(!1),"aria-labelledby":"LiveDemoExampleLabel",children:[e.jsx(g,{onClose:()=>r(!1),children:e.jsx(N,{id:"LiveDemoExampleLabel",style:{fontFamily:"Segoe UI"},children:"Update Department Information"})}),e.jsx(y,{children:e.jsxs("form",{onSubmit:I(J),children:[e.jsx(E,{children:e.jsx(v,{xs:12,children:e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",style:{fontFamily:"Segoe UI"},children:"Project Name"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",defaultValue:o.PROJECT_NAME,..._("PROJECT_NAME")})]})})}),e.jsx("div",{className:"submit-section",children:e.jsxs(S,{className:"justify-content-center",style:{borderTop:"none"},children:[e.jsx(n,{color:"secondary",onClick:()=>r(!1),children:"Close"}),e.jsx(n,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},type:"submit",children:"Update"})]})})]})})]})]})};export{ne as default};
