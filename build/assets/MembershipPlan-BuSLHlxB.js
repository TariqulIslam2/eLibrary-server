import{r,j as e}from"./index-B2fBV0b0.js";import{s as o}from"./DefaultLayout-TEfi6wH_.js";import{a as N,b as u}from"./api-wfLvVcRq.js";import{u as I}from"./index.esm-Cgl_2XJM.js";import{F as R,o as w,i as Y}from"./paginationfunction-CpYI36MX.js";import{s as $}from"./searchFunction-BiSHdcbM.js";import{a as x}from"./cil-lock-locked-b0GLSzjg.js";import{C as F,a as y,b as C,c as E}from"./CModalTitle-mhEHfMeo.js";import{C as A,a as g}from"./CRow-Bpgedh6M.js";import{C as S}from"./CModalFooter-BOHli4FM.js";import{B as q}from"./button-Cs9yHxtL.js";import{R as K}from"./EditOutlined-BB4x0p1v.js";import"./index.esm-Dp7k2-ke.js";import"./AntdIcon-nBSLI4Ns.js";import"./compact-item-ChVofqhj.js";import"./index-CFYdgIcY.js";const ne=()=>{const[p,v]=r.useState([]),[s,P]=r.useState({}),[_,h]=r.useState(!1),[f,D]=r.useState(""),[b,i]=r.useState(!1),[j,n]=r.useState(!1),{register:m,reset:L,formState:{errors:a},handleSubmit:M}=I(),{register:c,reset:B,formState:{errors:X},handleSubmit:k}=I();r.useEffect(()=>{N.get(`${u}/librarysetting/membershipplan`).then(l=>{const t=l.data.data,d=$(t,f,"PLAN_NAME");v(d),h(!1)}).catch(l=>{alert(l.message)})},[f,_]);const O=l=>{o({title:"Are you sure?",buttons:!0}).then(t=>{t?(l.PLAN_NAME||(l.PLAN_NAME=s.PLAN_NAME),l.FREQUENCY||(l.FREQUENCY=s.FREQUENCY),l.PRICE||(l.PRICE=s.PRICE),l.MAX_BOOKS||(l.MAX_BOOKS=s.MAX_BOOKS),l.ADDITIONAL_BENEFITS||(l.ADDITIONAL_BENEFITS=s.ADDITIONAL_BENEFITS),l.PLAN_ID=s.PLAN_ID,N({method:"put",url:`${u}/librarysetting/membershipplan`,data:l}).then(d=>{d&&(o({title:"Thank You !",text:"Successfully Update",icon:"success",button:"Ok"}),h(!0),B(),n(!1))})):o("Your imaginary file is safe!")})},U=l=>{o({title:"Are you sure?",buttons:!0}).then(t=>{t?N({method:"post",url:`${u}/librarysetting/membershipplan`,data:l}).then(d=>{d&&(o({title:"Thank You !",text:"Successfully Insert",icon:"success",button:"Ok"}),h(!0),L(),i(!1))}):o("Your imaginary file is safe!")})},T=[{title:" ID",className:"dark_bg text-center",dataIndex:"PLAN_ID",width:"10%"},{title:"Plan Name",className:"dark_bg ",dataIndex:"PLAN_NAME",width:"20%"},{title:"Frequency",className:"dark_bg ",dataIndex:"FREQUENCY",width:"20%"},{title:"Price",className:"dark_bg ",dataIndex:"PRICE",width:"20%"},{title:"Max Book",className:"dark_bg ",dataIndex:"MAX_BOOKS",width:"20%"},{title:"Additional Benefits",className:"dark_bg ",dataIndex:"ADDITIONAL_BENEFITS",width:"30%"},{title:"Action",width:"10%",className:"dark_bg text-center",render:(l,t)=>e.jsx("div",{className:"text-center",children:e.jsx(q,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},onClick:()=>{n(!j),P(t)},title:"Access Product",shape:"circle",icon:e.jsx(K,{})})})}];return e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-end",children:[e.jsx("div",{className:"me-2",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("i",{className:"fa fa-search position-absolute",style:{left:"10px",top:"50%",transform:"translateY(-50%)",color:"#999"}}),e.jsx("input",{onChange:l=>{D(l.target.value)},className:"form-control w-100 shadow ps-4 ms-1",type:"text",placeholder:"Search Here",style:{paddingLeft:"35px"}})]})}),e.jsx("div",{className:"text-end",children:e.jsx(x,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},onClick:()=>i(!b),children:"+ Add New Membership Plan"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"row ",children:e.jsx("div",{className:"col-md-12 ",children:e.jsx("div",{className:"table-responsive",children:e.jsx("div",{className:"customDepartmentTable",children:e.jsx(R,{className:"table-striped",pagination:{total:p===void 0?0:p.length,showTotal:(l,t)=>`Showing ${t[0]} to ${t[1]} of ${l} entries`,showSizeChanger:!0,onShowSizeChange:w,itemRender:Y},style:{overflowX:"auto"},columns:T,bordered:!0,dataSource:p===void 0?[]:p,rowKey:l=>l.PLAN_ID,onChange:console.log("change")})})})})})}),e.jsxs(F,{visible:b,size:"lg",onClose:()=>i(!1),"aria-labelledby":"LiveDemoExampleLabel",children:[e.jsx(y,{onClose:()=>i(!1),children:e.jsx(C,{id:"LiveDemoExampleLabel",style:{fontFamily:"Segoe UI"},children:"Add Membership Plan"})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:M(U),children:[e.jsx(A,{children:e.jsxs(g,{xs:12,children:[e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:["Plan Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${a.PLAN_NAME?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Plan Name ",...m("PLAN_NAME",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:a.PLAN_NAME&&"Please enter a Plan Name."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:["Frequency ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${a.FREQUENCY?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Frequency",...m("FREQUENCY",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:a.FREQUENCY&&"Please enter Frequency"})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:["Price ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:`form-control ${a.PRICE?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Enter Price",...m("PRICE",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:a.PRICE&&"Please enter a Price."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:["Max Books ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:`form-control ${a.MAX_BOOKS?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Enter Max Book",...m("MAX_BOOKS",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:a.MAX_BOOKS&&"Please enter Max Book."})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label small",style:{fontFamily:"Segoe UI"},children:["Additional Benefits ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${a.ADDITIONAL_BENEFITS?"is-invalid":""}`,id:"exampleFormControlInput14",placeholder:"Enter Additional Benefits",...m("ADDITIONAL_BENEFITS",{required:!0})}),e.jsx("div",{className:"invalid-feedback",children:a.ADDITIONAL_BENEFITS&&"Please enter  additional benefits."})]})]})}),e.jsx("div",{className:"submit-section",children:e.jsxs(S,{className:"justify-content-center",style:{borderTop:"none"},children:[e.jsx(x,{color:"secondary",onClick:()=>i(!1),children:"Close"}),e.jsx(x,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},type:"submit",children:"Add"})]})})]})})]}),s&&e.jsxs(F,{visible:j,size:"lg",onClose:()=>n(!1),"aria-labelledby":"LiveDemoExampleLabel",children:[e.jsx(y,{onClose:()=>n(!1),children:e.jsx(C,{id:"LiveDemoExampleLabel",style:{fontFamily:"Segoe UI"},children:"Update Membership Plan Information"})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:k(O),children:[e.jsx(A,{children:e.jsxs(g,{xs:12,children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",style:{fontFamily:"Segoe UI"},children:"Plan Name"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:s.PLAN_NAME,...c("PLAN_NAME")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",style:{fontFamily:"Segoe UI"},children:"Frequency"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:s.FREQUENCY,...c("FREQUENCY")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",style:{fontFamily:"Segoe UI"},children:"Price"}),e.jsx("input",{type:"number",className:"form-control",id:"exampleFormControlInput14",placeholder:s.PRICE,...c("PRICE")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",style:{fontFamily:"Segoe UI"},children:"Max Books"}),e.jsx("input",{type:"number",className:"form-control",id:"exampleFormControlInput14",placeholder:s.MAX_BOOKS,...c("MAX_BOOKS")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label  small",style:{fontFamily:"Segoe UI"},children:"Additional Benefits"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:s.ADDITIONAL_BENEFITS,...c("ADDITIONAL_BENEFITS")})]})]})}),e.jsx("div",{className:"submit-section",children:e.jsxs(S,{className:"justify-content-center",style:{borderTop:"none"},children:[e.jsx(x,{color:"secondary",onClick:()=>n(!1),children:"Close"}),e.jsx(x,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},type:"submit",children:"Update"})]})})]})})]})]})};export{ne as default};
