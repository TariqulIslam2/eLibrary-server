import{r as n,j as e}from"./index-DO-SV_97.js";import{s as i}from"./DefaultLayout-BdiyXKQm.js";import{a as u,b as d}from"./api-wfLvVcRq.js";import{u as M}from"./index.esm-cMcdnTEW.js";import{F as U,o as V,i as $}from"./paginationfunction-cQwcg583.js";import{s as Y}from"./searchFunction-BiSHdcbM.js";import{C as _,a as F,b as P,c as g}from"./CModalTitle-DQifuASo.js";import{C as A,a as y}from"./CRow-C5pS5nlF.js";import{C as I}from"./CModalFooter-KGCUttOr.js";import{a as h}from"./cil-lock-locked-CYdsg60D.js";import{B as q}from"./button-B-GL0v4J.js";import{R as z}from"./EditOutlined-Dj1e-Inx.js";import"./index.esm-CDc6Ey47.js";import"./AntdIcon-p-8olrNo.js";import"./compact-item-CogaolUq.js";import"./index-b-rH6Afy.js";const xe=()=>{const[C,E]=n.useState(""),[p,D]=n.useState([]),[v,x]=n.useState(!1),[b,c]=n.useState(!1),[s,S]=n.useState({}),[w,N]=n.useState(),{register:m,reset:L,formState:{errors:G},handleSubmit:H}=M(),[k,f]=n.useState(!1),R=l=>{const o=l.target.files[0];N(o)};console.log("object"),n.useEffect(()=>{u.get(`${d}/admistration/companyinfo`).then(l=>{console.log(l,"testing");const o=l.data.data,a=Y(o,C,"COMP_NAME","COMP_PHONE","COMP_EMAIL");D(a),f(!1)}).catch(l=>{alert(l.message)})},[C,k]),console.log("data");const T=l=>{i({title:"Are you sure?",buttons:!0}).then(o=>{if(o){const a=new FormData;a.append("image",w);for(const t in l)Object.prototype.hasOwnProperty.call(l,t)&&a.append(t,l[t]);u.post(`${d}/admistration/companyinfo`,a).then(t=>{i({title:"Thank You !",text:"Successfully Insert",icon:"success",button:"Ok"}),L(),x(!1),f(!0),N("")}).catch(t=>{alert(t.message)})}else i("Your imaginary file is safe!")})},{register:r,reset:j,setValue:O,formState:{errors:K},handleSubmit:X}=M(),B=l=>{i({title:"Are you sure?",buttons:!0}).then(o=>{if(o)if(l.COMP_ADD||(l.COMP_ADD=s.COMP_ADD),l.COMP_ADD2||(l.COMP_ADD2=s.COMP_ADD2),l.COMP_EMAIL||(l.COMP_EMAIL=s.COMP_EMAIL),l.COMP_NAME||(l.COMP_NAME=s.COMP_NAME),l.COMP_PHONE||(l.COMP_PHONE=s.COMP_PHONE),l.COMP_WEB||(l.COMP_WEB=s.COMP_WEB),l.FAX||(l.FAX=s.FAX),l.SHORT_NAME||(l.SHORT_NAME=s.SHORT_NAME),l.COM_ID=s.COM_ID,l.image.length>0){const a=new FormData;a.append("COMP_ADD",l.COMP_ADD),a.append("COMP_ADD2",l.COMP_ADD2),a.append("COMP_EMAIL",l.COMP_EMAIL),a.append("COMP_NAME",l.COMP_NAME),a.append("COMP_PHONE",l.COMP_PHONE),a.append("COMP_WEB",l.COMP_WEB),a.append("FAX",l.FAX),a.append("SHORT_NAME",l.SHORT_NAME),a.append("COM_ID",l.COM_ID),a.append("image",l.image[0]),u.put(`${d}/admistration/companyinfo`,a).then(t=>{t&&(i({title:"Thank You !",text:"Successfully Update",icon:"success",button:"Ok"}),f(!0),j(),c(!1))}).catch(t=>{console.log(t)})}else u.put(`${d}/admistration/companyinfo/withoutfile`,l={...l}).then(a=>{a&&(i({title:"Thank You !",text:"Successfully Update",icon:"success",button:"Ok"}),f(!0),j(),c(!1))}).catch(a=>{console.log(a)});else i("Your imaginary file is safe!")})},W=[{title:"Company Name",className:"dark_bg ",dataIndex:"COMP_NAME",render:(l,o)=>e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-sm-6",children:[" ",e.jsx("img",{src:o!=null&&o.LOGO?`${d}/static/public/image/${o==null?void 0:o.LOGO}`:"/placeholder.jpg",style:{width:"80%",height:"auto"},alt:""})]}),e.jsx("div",{className:"col-sm-6",children:o.COMP_NAME})]})},{title:"Head Office",className:"dark_bg ",dataIndex:"COMP_ADD"},{title:"Phone",className:"dark_bg ",dataIndex:"COMP_PHONE"},{title:"Email",className:"dark_bg ",dataIndex:"COMP_EMAIL"},{title:"Web URL",className:"dark_bg ",dataIndex:"COMP_WEB"},{title:"Factory Office",className:"dark_bg ",dataIndex:"COMP_ADD2"},{title:"FAX",className:"dark_bg ",dataIndex:"FAX"},{title:"Short Name",className:"dark_bg ",dataIndex:"SHORT_NAME"},{title:"Action",className:"dark_bg ",render:(l,o)=>e.jsx("div",{className:"text-center",children:e.jsx(q,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},onClick:()=>{c(!b),S(o)},title:"Access Product",shape:"circle",icon:e.jsx(z,{})})})}];return n.useEffect(()=>{s&&Object.keys(s).forEach(l=>{O(l,s[l])})},[s,O]),e.jsxs("div",{children:[e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx("div",{className:"me-2",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("i",{className:"fa fa-search position-absolute",style:{left:"10px",top:"50%",transform:"translateY(-50%)",color:"#999"}}),e.jsx("input",{onChange:l=>{E(l.target.value)},className:"form-control w-100 shadow ps-4 ms-1",type:"text",placeholder:"Search Here",style:{paddingLeft:"35px"}})]})})}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"row ",children:e.jsx("div",{className:"col-md-12 ",children:e.jsx("div",{className:"table-responsive",children:e.jsx(U,{className:"table-striped",pagination:{total:p===void 0?0:p.length,showTotal:(l,o)=>`Showing ${o[0]} to ${o[1]} of ${l} entries`,showSizeChanger:!0,onShowSizeChange:V,itemRender:$},style:{overflowX:"auto"},bordered:!0,columns:W,dataSource:p===void 0?[]:p,rowKey:l=>l.COM_ID,onChange:console.log("change")})})})})}),e.jsxs(_,{visible:v,size:"lg",onClose:()=>x(!1),"aria-labelledby":"LiveDemoExampleLabel",children:[e.jsx(F,{onClose:()=>x(!1),children:e.jsx(P,{id:"LiveDemoExampleLabel",children:"Add Company Information"})}),e.jsx(g,{children:e.jsxs("form",{onSubmit:H(T),children:[e.jsx(A,{children:e.jsxs(y,{xs:12,children:[e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label fw-bold small",children:["Company Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Company Name",...m("COMP_NAME",{required:!0})})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label fw-bold small",children:["Head Office ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:" Head Office",...m("COMP_ADD",{required:!0})})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label fw-bold small",children:["Phone ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Phone",...m("COMP_PHONE",{required:!0})})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{htmlFor:"exampleFormControlInput14",className:"form-label fw-bold small",children:["Email ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"email",className:"form-control",id:"exampleFormControlInput14",placeholder:"Email",...m("COMP_EMAIL",{required:!0})})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label fw-bold small",children:"Web URL"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Web URL",...m("COMP_WEB")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label fw-bold small",children:"FAX"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"FAX",...m("FAX")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label fw-bold small",children:"Factory Office"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",placeholder:"Factory Office",...m("COMP_ADD2")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label fw-bold small",children:"Logo"}),e.jsx("input",{type:"file",name:"image",className:"form-control",id:"exampleFormControlInput14",onChange:l=>R(l)})]})]})}),e.jsx("div",{className:"submit-section",children:e.jsxs(I,{className:"justify-content-center",style:{borderTop:"none"},children:[e.jsx(h,{color:"secondary",onClick:()=>x(!1),children:"Close"}),e.jsx(h,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},type:"submit",children:"Add"})]})})]})})]}),s&&e.jsxs(_,{visible:b,size:"lg",onClose:()=>c(!1),"aria-labelledby":"LiveDemoExampleLabel",children:[e.jsx(F,{onClose:()=>c(!1),children:e.jsx(P,{id:"LiveDemoExampleLabel",style:{fontFamily:"Segoe UI"},children:"Update Company Information"})}),e.jsx(g,{children:e.jsxs("form",{onSubmit:X(B),children:[e.jsx(A,{children:e.jsxs(y,{xs:12,children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label fw-bold small",children:"Company Name"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",defaultValue:s.COMP_NAME,...r("COMP_NAME")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label fw-bold small",children:"Head Office"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",defaultValue:s.COMP_ADD,...r("COMP_ADD")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label fw-bold small",children:"Phone"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",defaultValue:s.COMP_PHONE,...r("COMP_PHONE")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label fw-bold small",children:"Email"}),e.jsx("input",{type:"email",className:"form-control",id:"exampleFormControlInput14",defaultValue:s.COMP_EMAIL,...r("COMP_EMAIL")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label fw-bold small",children:"Web URL"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",defaultValue:s.COMP_WEB,...r("COMP_WEB")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label fw-bold small",children:"FAX"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",defaultValue:s.FAX,...r("FAX")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label fw-bold small",children:"Short Name"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",defaultValue:s.SHORT_NAME,...r("SHORT_NAME")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label fw-bold small",children:"Factory Office"}),e.jsx("input",{type:"text",className:"form-control",id:"exampleFormControlInput14",defaultValue:s.COMP_ADD2,...r("COMP_ADD2")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"exampleFormControlInput14",className:"form-label fw-bold small",children:"Logo"}),e.jsx("input",{type:"file",className:"form-control",id:"exampleFormControlInput14",...r("image",{required:!1})})]})]})}),e.jsx("div",{className:"submit-section",children:e.jsxs(I,{className:"justify-content-center",style:{borderTop:"none"},children:[e.jsx(h,{color:"secondary",onClick:()=>c(!1),children:"Close"}),e.jsx(h,{style:{backgroundColor:"rgb(61, 54, 78)",color:"#fff"},type:"submit",children:"Update"})]})})]})})]})]})};export{xe as default};
